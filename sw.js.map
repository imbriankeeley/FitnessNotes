{"version":3,"sources":["../public/sw.js"],"names":["event","updateWidget","updateName","widgetDefinition","payload","name"],"mappings":"AAAA,cACI,yEACJ,EAMA,KAAK,iBAAiB,gBAAkB,GAAU,CAC9C,EAAM,UAAU,EAAa,CAAK,CAAC,CACvC,CAAC,EAGD,KAAK,iBAAiB,eAAiB,GAAU,CAC7C,EAAM,UAAU,EAAa,CAAK,CAAC,CACvC,CAAC,EAID,KAAK,iBAAiB,cAAgB,GAAU,CAC5C,EAAM,QAAU,cAChB,EAAM,UAAU,EAAW,CAAK,CAAC,CAErC,CAAC,EAID,KAAK,iBAAiB,kBAAoB,GAAU,CAAE,CAAA,EAEtD,MAAM,EAAe,MAAO,GAAU,CAElC,MAAM,EAAmB,EAAM,OAAO,WAGhC,EAAU,CACZ,SAAU,KAAK,UAAU,MAAO,MAAM,MAAM,EAAiB,YAAY,GAAG,MAAM,EAClF,KAAM,KAAK,UAAU,MAAO,MAAM,MAAM,EAAiB,IAAI,GAAG,MAAM,CAC9E,EAGI,MAAM,KAAK,QAAQ,mBAAmB,EAAM,WAAY,CAAO,CACnE,EAEM,EAAa,MAAO,GAAU,CAChC,MAAM,EAAO,EAAM,KAAK,KAAI,EAAG,KAGzB,EAAmB,EAAM,OAAO,WAGhC,EAAU,CACZ,SAAU,KAAK,UAAU,MAAO,MAAM,MAAM,EAAiB,YAAY,GAAG,MAAM,EAClF,KAAM,KAAK,UAAU,CAAC,KAAA,CAAI,CAAC,CACnC,EAGI,MAAM,KAAK,QAAQ,mBAAmB,EAAM,WAAY,CAAO,CACnE,EAEA,QAAQ,WAAW,iBAAiB,g5EAAK,eAAiB,CAAA,CAAE","file":"sw.js","sourcesContent":["importScripts(\r\n    'https://storage.googleapis.com/workbox-cdn/releases/6.5.4/workbox-sw.js'\r\n);\r\n\r\n// This is your Service Worker, you can put any of your custom Service Worker\r\n// code in this file, above the `precacheAndRoute` line.\r\n\r\n// When widget is installed/pinned, push initial state.\r\nself.addEventListener('widgetinstall', (event) => {\r\n    event.waitUntil(updateWidget(event));\r\n});\r\n\r\n// When widget is shown, update content to ensure it is up-to-date.\r\nself.addEventListener('widgetresume', (event) => {\r\n    event.waitUntil(updateWidget(event));\r\n});\r\n\r\n// When the user clicks an element with an associated Action.Execute,\r\n// handle according to the 'verb' in event.action.\r\nself.addEventListener('widgetclick', (event) => {\r\nif (event.action == \"updateName\") {\r\n    event.waitUntil(updateName(event));\r\n}\r\n});\r\n\r\n// When the widget is uninstalled/unpinned, clean up any unnecessary\r\n// periodic sync or widget-related state.\r\nself.addEventListener('widgetuninstall', (event) => {});\r\n\r\nconst updateWidget = async (event) => {\r\n// The widget definition represents the fields specified in the manifest.\r\n    const widgetDefinition = event.widget.definition;\r\n\r\n    // Fetch the template and data defined in the manifest to generate the payload.\r\n    const payload = {\r\n        template: JSON.stringify(await (await fetch(widgetDefinition.msAcTemplate)).json()),\r\n        data: JSON.stringify(await (await fetch(widgetDefinition.data)).json()),\r\n    };\r\n\r\n    // Push payload to widget.\r\n    await self.widgets.updateByInstanceId(event.instanceId, payload);\r\n}\r\n\r\nconst updateName = async (event) => {\r\n    const name = event.data.json().name;\r\n\r\n    // The widget definition represents the fields specified in the manifest.\r\n    const widgetDefinition = event.widget.definition;\r\n\r\n    // Fetch the template and data defined in the manifest to generate the payload.\r\n    const payload = {\r\n        template: JSON.stringify(await (await fetch(widgetDefinition.msAcTemplate)).json()),\r\n        data: JSON.stringify({name}),\r\n    };\r\n\r\n    // Push payload to widget.\r\n    await self.widgets.updateByInstanceId(event.instanceId, payload);\r\n}\r\n\r\nworkbox.precaching.precacheAndRoute(self.__WB_MANIFEST || []);"]}